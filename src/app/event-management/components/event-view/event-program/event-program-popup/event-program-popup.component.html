<div class="event-dialog-wrapper">
    <mat-toolbar matDialogTitle class="mat-primary pr0 flex flex-wrap">
        <span class="mat-headline-4">{{ data.title }}</span>
        <button
                mat-icon
                (click)="dialogRef.close()"
                class="float-right"
                aria-label="Close dialog"
        >
            <mat-icon>close</mat-icon>
        </button>
    </mat-toolbar>
    <div mat-dialog-content class="padround18">
        <form [formGroup]="eventProgramForm" class="eventTicketForm flex flex-col padround18"
              (ngSubmit)="submit(eventProgramForm.value)">
            <div soraxdir-alert-message [errorMessage]="messages | json"></div>

            <div class="flex flex-wrap flex-col md:flex-row">
                <div class="w-full md:w-1/3 pr-8">
                    <sorax-form-field label="Start time" [soraxFormControl]="eventProgramForm.get('startTime')">
                        <input #soraxInput matInput formControlName="startTime" type="time" name="startTime"
                               placeholder="Start time"/>
                    </sorax-form-field>
                </div>
                <div class="w-full md:w-1/3 pr-8">
                    <sorax-form-field label="End time" [soraxFormControl]="eventProgramForm.get('endTime')">
                        <input #soraxInput matInput formControlName="endTime" type="time" name="endTime"
                               placeholder="End time"/>
                    </sorax-form-field>
                </div>
                <div class="w-full md:w-1/3 pr-8">
                    <sorax-form-field label="Duration" [soraxFormControl]="eventProgramForm.get('duration')">
                        <input #soraxInput matInput formControlName="duration" type="text" name="duration"
                               placeholder="Duration"/>
                    </sorax-form-field>
                </div>
            </div>

            <div class="flex flex-wrap flex-col md:flex-row">
                <div class="w-full md:w-1/1 pr-8">
                    <sorax-form-field label="Program name" [soraxFormControl]="eventProgramForm.get('name')">
                        <input #soraxInput matInput formControlName="name" type="text" name="name"
                               placeholder="Program name"/>
                    </sorax-form-field>
                </div>
            </div>

            <div class="flex flex-wrap flex-col md:flex-row">
                <div class="w-full md:w-1/1 pr-8">
                    <mat-form-field class="w-full">
                        <textarea formControlName="description" matInput required
                              placeholder="Description, About the program"></textarea>
                    </mat-form-field>
                </div>
            </div>

            <div class="flex flex-wrap flex-col md:flex-row">
                <div class="w-full md:w-1/1 pr-8">
                    <mat-form-field class="w-full">
                        <textarea formControlName="participants" matInput required
                              placeholder="Participants"></textarea>
                    </mat-form-field>
                </div>
            </div>

            <div class="flex flex-wrap flex-col md:flex-row">
                <div class="w-full md:w-1/1 pr-8">
                    <sorax-form-field label="Contact person" [soraxFormControl]="eventProgramForm.get('contactPerson')">
                    <input #soraxInput matInput formControlName="contactPerson" type="text" name="contactPerson"
                           placeholder="Contact person"/>
                    </sorax-form-field>
                </div>
            </div>

            <div class="flex flex-wrap flex-col md:flex-row">
                <div class="w-full md:w-1/1 pr-8">
                    <sorax-form-field label="Contact phone" [soraxFormControl]="eventProgramForm.get('contactPhone')">
                        <input #soraxInput matInput formControlName="contactPhone" type="text" name="contactPhone"
                               placeholder="Contact phone"/>
                    </sorax-form-field>
                </div>
            </div>
            <div class="flex flex-wrap flex-col md:flex-row">
                <div class="w-full md:w-1/1 pr-8">
                    <mat-form-field class="full-width">
                        <mat-select placeholder="Status"
                                    [formControl]="eventProgramForm.controls['status']">
                            <mat-option *ngFor="let t of availableStatus" [value]="t.value">
                                {{ t.name }}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
            </div>

        </form>
    </div>

    <div mat-dialog-actions class="m-0 p-16 text-center flex">
        <button
                mat-raised-button
                class="mat-primary text-left"
                aria-label="Close"
                (click)="dialogRef.close()"
        >
            Close
        </button>
        <span class="flex-grow"></span>
        <button
                mat-raised-button
                class="mat-primary text-right"
                aria-label="Create a ticket"
                [textContent]="buttonText"
                (click)="submit(eventProgramForm.value)"
        >
            {{buttonText}}
        </button>
    </div>
</div>
