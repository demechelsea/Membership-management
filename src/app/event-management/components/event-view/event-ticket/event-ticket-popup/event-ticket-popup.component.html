<div class="event-dialog-wrapper">
    <mat-toolbar matDialogTitle class="mat-primary pr0 flex flex-wrap">
        <span class="mat-headline-4">{{ data.title }}</span>
        <button
                mat-icon
                (click)="dialogRef.close()"
                class="float-right"
                aria-label="Close dialog"
        >
            <mat-icon>close</mat-icon>
        </button>
    </mat-toolbar>
    <div mat-dialog-content class="padround18">
        <form
                [formGroup]="eventTicketForm"
                class="eventTicketForm flex flex-col padround18"
                (ngSubmit)="submit(eventTicketForm.value)"
        >
            <div soraxdir-alert-message [errorMessage]="messages | json"></div>

            <div class="flex flex-wrap flex-col md:flex-row">
                <div class="w-full md:w-1/1 pr-8">
                    <sorax-form-field label="Ticket Name" [soraxFormControl]="eventTicketForm.get('name')">
                        <input #soraxInput matInput formControlName="name" type="text" name="name"
                               placeholder="Ticket Name"/>
                    </sorax-form-field>
                </div>
            </div>

            <div class="flex flex-wrap flex-col md:flex-row">
                <div class="w-full md:w-1/1 pr-8">
                    <mat-radio-group class="flex flex-wrap mb-5" formControlName="ticketType">
                        <mat-radio-button *ngFor="let ticketType of ticketTypes" labelPosition="after"
                                          value="{{ticketType.value}}"
                                          class="mb-1">{{ticketType.name}}</mat-radio-button>
                    </mat-radio-group>

                </div>
            </div>

            <div class="flex flex-wrap flex-col md:flex-row">
                <div class="w-full md:w-1/1 pr-8">
                    <sorax-form-field label="Description" [soraxFormControl]="eventTicketForm.get('description')">
                        <input #soraxInput matInput formControlName="description" type="text" name="description"
                               placeholder="Description"/>
                    </sorax-form-field>
                </div>
            </div>
            <div class="flex flex-wrap flex-col md:flex-row">

                <div class="w-full md:w-1/1 pr-8">
                    <sorax-form-field class="w-full md:w-1/2" label="Price per ticket"
                                      [soraxFormControl]="eventTicketForm.get('ticketPrice')">
                        <input #soraxInput matInput formControlName="ticketPrice" type="number"
                               name="ticketPrice" placeholder="Price per ticket"/>
                    </sorax-form-field>
                </div>
            </div>

            <div class="flex flex-wrap flex-col md:flex-row">

                <div class="w-full md:w-1/2 pr-8">
                    <sorax-form-field class="w-full md:w-1/2" label="Number of tickets"
                                      [soraxFormControl]="eventTicketForm.get('numberOfTickets')">
                        <input #soraxInput matInput formControlName="numberOfTickets" type="number"
                               name="numberOfTickets" placeholder="Number of tickets"/>
                    </sorax-form-field>
                </div>

                <div class="w-full md:w-1/2 pr-8">
                    <sorax-form-field class="w-full md:w-1/2" label="Maximum Allowed per person"
                                      [soraxFormControl]="eventTicketForm.get('peopleAllowedPerTicket')">
                        <input #soraxInput matInput formControlName="peopleAllowedPerTicket" type="number"
                               name="peopleAllowedPerTicket" placeholder="Maximum Allowed per person"/>
                    </sorax-form-field>
                </div>
            </div>
            <div class="flex flex-wrap flex-col md:flex-row">
                <div class="w-full md:w-1/1 pr-8">
                    <mat-checkbox aria-label="Hide this ticket type" formControlName="isHidden">
                        Hide this ticket type
                    </mat-checkbox>
                </div>
            </div>
            <div class="flex flex-wrap flex-col md:flex-row">
                <div class="w-full md:w-1/1 pr-8">
                    <mat-checkbox aria-label="Is Visible for public" formControlName="visibleToPublic">
                        Is Visible for public
                    </mat-checkbox>
                </div>
            </div>
        </form>
    </div>

    <div mat-dialog-actions class="m-0 p-16 text-center flex">
        <button
                mat-raised-button
                class="mat-primary text-left"
                aria-label="Close"
                (click)="dialogRef.close()"
        >
            Close
        </button>
        <span class="flex-grow"></span>
        <button
                mat-raised-button
                class="mat-primary text-right"
                aria-label="Create a ticket"
                [textContent]="buttonText"
                (click)="submit(eventTicketForm.value)"
        >
            {{buttonText}}
        </button>
    </div>
</div>
