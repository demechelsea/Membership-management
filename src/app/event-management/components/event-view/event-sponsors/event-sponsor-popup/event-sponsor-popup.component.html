<div class="event-dialog-wrapper">
    <mat-toolbar matDialogTitle class="mat-primary pr0 flex flex-wrap">
        <span class="mat-headline-4">{{ data.title }}</span>
        <button
                mat-icon
                (click)="dialogRef.close()"
                class="float-right"
                aria-label="Close dialog"
        >
            <mat-icon>close</mat-icon>
        </button>
    </mat-toolbar>
    <div mat-dialog-content class="padround18">
        <form
                [formGroup]="sponsorForm"
                class="sponsorForm flex flex-col padround18"
                (ngSubmit)="submit()"
        >
            <div soraxdir-alert-message [errorMessage]="messages | json"></div>

            <div class="flex flex-wrap flex-col md:flex-row">

                <div class="w-full md:w-1/1 pr-8">
                    <sorax-form-field label="Sponsorship Name" [soraxFormControl]="sponsorForm.get('name')">
                        <input #soraxInput matInput formControlName="name" type="text" name="name"
                               placeholder="Sponsorship Name"/>
                    </sorax-form-field>
                </div>
            </div>
            <div class="flex flex-wrap flex-col md:flex-row">
                <div class="w-full md:w-2/3 pr-8">
                    <mat-form-field class="full-width">
                        <mat-select placeholder="Company"
                                    (selectionChange)="onCompanyChanged()"
                                    [formControl]="sponsorForm.controls['companyId']">
                            <mat-option *ngFor="let t of availableCompanyOptions" [value]="t.id">
                                {{ t.name }}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="w-full md:w-1/3 pr-8">
                    <button mat-raised-button color="primary" (click)="openAddCompanyPopUp()">
                        Add Company
                    </button>
                </div>
            </div>

            <div class="flex flex-wrap flex-col md:flex-row">
                <div class="w-full md:w-1/1 pr-8">
                    <sorax-form-field label="Email" [soraxFormControl]="sponsorForm.get('companyEmail')">
                        <input #soraxInput matInput formControlName="companyEmail" type="text" name="name"
                               placeholder="Email"/>
                    </sorax-form-field>
                </div>
            </div>

            <div class="flex flex-wrap flex-col md:flex-row">
                <div class="w-full md:w-1/1 pr-8">
                    <sorax-form-field label="Phone number" [soraxFormControl]="sponsorForm.get('companyPhone')">
                        <input #soraxInput matInput formControlName="companyPhone" type="text" name="name"
                               placeholder="Phone number"/>
                    </sorax-form-field>
                </div>
            </div>

            <div class="flex flex-wrap flex-col md:flex-row">
                <div class="w-full md:w-2/3 pr-8">
                    <mat-form-field class="full-width">
                        <mat-select placeholder="Sponsor Type"
                                    [formControl]="sponsorForm.controls['sponsorshipType']">
                            <mat-option *ngFor="let t of sponsorTypes" [value]="t.value">
                                {{ t.name }}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
            </div>

            <div class="flex flex-wrap flex-col md:flex-row">

                <div class="w-full md:w-1/1 pr-8">
                    <sorax-form-field class="w-full md:w-1/1" label="Amount/Service Description"
                                      [soraxFormControl]="sponsorForm.get('description')">
                        <input #soraxInput matInput formControlName="description" type="text"
                               name="description" placeholder="Amount/Service Description"/>
                    </sorax-form-field>
                </div>
            </div>
            <div class="flex flex-wrap flex-col md:flex-row">
                <div class="w-full md:w-1/1 pr-8">
                    <sorax-form-field class="w-full md:w-1/1" label="Payment Method"
                                      [soraxFormControl]="sponsorForm.get('paymentMethod')">
                        <input #soraxInput matInput formControlName="paymentMethod" type="text"
                               name="paymentMethod" placeholder="Payment Method"/>
                    </sorax-form-field>
                </div>
            </div>
            <div class="flex flex-wrap flex-col md:flex-row">
                <div class="w-full md:w-2/3 pr-8">
                    <mat-form-field class="full-width">
                        <mat-select placeholder="Status"
                                    [formControl]="sponsorForm.controls['status']">
                            <mat-option *ngFor="let t of availableStatus" [value]="t.value">
                                {{ t.name }}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
            </div>
        </form>
    </div>

    <div mat-dialog-actions class="m-0 p-16 text-center flex">
        <button
                mat-raised-button
                class="mat-primary text-left"
                aria-label="Close"
                (click)="dialogRef.close()"
        >
            Close
        </button>
        <span class="flex-grow"></span>
        <button
                mat-raised-button
                class="mat-primary text-right"
                aria-label="Create a ticket"
                [textContent]="buttonText"
                (click)="submit()"
        >
            {{buttonText}}
        </button>
    </div>
</div>
