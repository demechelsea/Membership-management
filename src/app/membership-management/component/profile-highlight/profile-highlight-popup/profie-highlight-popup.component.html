<div class="event-dialog-wrapper">
  <mat-toolbar matDialogTitle class="mat-primary pr0 flex flex-wrap">
    <span class="mat-headline-4">{{ data.title }}</span>
    <button
      mat-icon
      (click)="dialogRef.close()"
      aria-label="Close dialog"
      class="float-right"
    >
      <mat-icon>close</mat-icon>
    </button>
  </mat-toolbar>

  <div mat-dialog-content class="padround18">
    <form
      [formGroup]="profileHighlightForm"
      class="profileHighlightForm padround18"
      (ngSubmit)="submit(profileHighlightForm.value)"
    >
      <div soraxdir-alert-message [errorMessage]="messages | json"></div>
      <div class="flex flex-col justify-between">
        <div class="flex">
          <div class="w-full md:w-1/5 pr8">
            <sorax-form-field
              label="Title"
              [soraxFormControl]="profileHighlightForm.get('title')"
            >
              <input
                #soraxInput
                matInput
                formControlName="title"
                type="text"
                name="title"
              />
            </sorax-form-field>
          </div>
          <div class="w-full md:w-2/5 pr8">
            <sorax-form-field
              label="First Name"
              [soraxFormControl]="profileHighlightForm.get('firstName')"
            >
              <input
                #soraxInput
                matInput
                formControlName="firstName"
                type="text"
                name="firstName"
              />
            </sorax-form-field>
          </div>
          <div class="w-full md:w-2/5">
            <sorax-form-field
              label="Last Name"
              [soraxFormControl]="profileHighlightForm.get('parentName')"
            >
              <input
                #soraxInput
                matInput
                formControlName="parentName"
                type="text"
                name="parentName"
              />
            </sorax-form-field>
          </div>
        </div>

        <div class="flex">
          <div class="w-full md:w-1/5 pr8">
            <sorax-autocomplete
              [lookupName]="genderOptionsKey"
              placeholder="Gender"
              [autoCompleteFieldLabel]="profileHighlightForm.controls['gender']"
              (selectedOptionEmitter)="onSelectedGenderOption($event)"
            >
            </sorax-autocomplete>
          </div>

          <div class="w-full md:w-2/5 pr8">
            <sorax-autocomplete
              [lookupName]="maritalStatusOptionsKey"
              placeholder="Marital status"
              [autoCompleteFieldLabel]="
                profileHighlightForm.controls['maritalStatus']
              "
              (selectedOptionEmitter)="onSelectedMaritalStatusOption($event)"
            >
            </sorax-autocomplete>
          </div>
          <div class="w-full md:w-2/5 pr8">
            <sorax-form-field
              label="Date of birth"
              [soraxFormControl]="profileHighlightForm.get('dob')"
            >
              <div class="flex flex-row">
                <input
                  #soraxInput
                  matInput
                  [matDatepicker]="dobDatePicker"
                  formControlName="dob"
                  name="dob"
                />
                <mat-datepicker-toggle
                  [for]="dobDatePicker"
                  matSuffix
                  class="h-6"
                ></mat-datepicker-toggle>
              </div>
              <mat-datepicker #dobDatePicker></mat-datepicker>
            </sorax-form-field>
          </div>
        </div>

        <div class="w-full md:w-1/1 pr8">
          <sorax-form-field
            label="Prefered name"
            [soraxFormControl]="profileHighlightForm.get('givenName')"
          >
            <input
              #soraxInput
              matInput
              formControlName="givenName"
              type="text"
              name="givenName"
            />
          </sorax-form-field>
        </div>
      </div>
    </form>
  </div>

  <div mat-dialog-actions class="m-0 p-16 text-center flex">
    <button
      mat-raised-button
      class="mat-primary text-left"
      aria-label="Close"
      (click)="dialogRef.close()"
    >
      Close
    </button>
    <span class="flex-grow"></span>
    <button
      mat-raised-button
      class="mat-primary text-right"
      aria-label="Create a member"
      [textContent]="buttonText"
      (click)="submit(profileHighlightForm.value)"
    >
      Create a member
    </button>
  </div>
</div>
