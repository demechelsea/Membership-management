<mat-tab-group (selectedTabChange)="onTabChanged($event)">
  <mat-tab label="Settings">
    <div class="flex flex-col md:flex-row justify-around">
      <mat-card class="custom-bg p-4 md:w-1/3">
        <mat-card-header class="pb-2 text-white">
          <mat-card-title class="text-white">SMS Balance</mat-card-title>
        </mat-card-header>
        <mat-card-content class="content w-full pt-4">
          <div class="flex justify-between inner-content p-4">
            <label class="flex flex-col justify-center font-bold text-gray-700"
              >Available SMS: 1157</label
            >
            <div class="flex flex-col justify-around text-gray-600">
              <label>Sent Today : 125</label>
              <label>Sent in Last 7 days : 258</label>
              <label>Sent in Last 15 days : 503</label>
              <label>Sent in Last 1 Months : 1508</label>
              <label>Sent in Last 3 Months : 5028</label>
              <label>Sent in Last 1 Year : 12508</label>
              <label>Total SMS sent : 52508</label>
            </div>
          </div>
        </mat-card-content>
      </mat-card>

      <mat-card class="custom-bg p-4 md:w-1/3">
        <mat-card-header
          class="items-center flex justify-between pb-2 text-white"
        >
          <mat-card-title class="text-white">Senders Profile</mat-card-title>
          <button
            mat-icon-button
            (click)="openSendersProfilePopUp({})"
            class="text-white"
          >
            <mat-icon>edit</mat-icon>
          </button>
        </mat-card-header>
        <mat-card-content class="content w-full pt-4 justify-around">
          <div class="flex flex-col">
            <mat-form-field class="mb-4">
              <mat-label class="text-gray-600">SMS Name</mat-label>
              <input matInput disabled class="p-2 h-10" />
            </mat-form-field>
            <mat-form-field>
              <mat-label class="text-gray-600">SMS Identity</mat-label>
              <input matInput disabled class="p-2 h-10" />
            </mat-form-field>
          </div>
        </mat-card-content>
      </mat-card>
    </div>

    <div class="flex md:flex-row justify-center">
      <mat-card class="custom-bg w-full md:w-1/4">
        <mat-card-header class="flex justify-between text-white">
          <mat-card-title>Package</mat-card-title>
          <button mat-raised-button class="mb-4" color="primary">
            Buy this package
          </button>
        </mat-card-header>
        <mat-card-content class="inner-content">
          <label>Features and cost</label>
        </mat-card-content>
      </mat-card>

      <mat-card class="custom-bg w-full md:w-1/4">
        <mat-card-header class="flex justify-between text-white">
          <mat-card-title>Package 2</mat-card-title>
          <button mat-raised-button class="mb-4" color="primary">
            Buy this package
          </button>
        </mat-card-header>
        <mat-card-content class="inner-content">
          <label>Features and cost</label>
        </mat-card-content>
      </mat-card>

      <mat-card class="custom-bg w-full md:w-1/4">
        <mat-card-header class="flex justify-between text-white">
          <mat-card-title>Package 3</mat-card-title>
          <button mat-raised-button class="mb-4" color="primary">
            Buy this package
          </button>
        </mat-card-header>
        <mat-card-content class="inner-content">
          <label>Features and cost</label>
        </mat-card-content>
      </mat-card>
    </div>
  </mat-tab>
  <mat-tab label="System Templates">
    <sorax-table-view
      [tableData]="smsTemplateData"
      [tableColumns]="smsTemplateColumns"
      [isFilterable]="false"
      [isPageable]="true"
      [page]="page"
      (rowAction)="executeSystemTemplatesRowActions($event)"
      [tableType]="'SmsTemplate'"
    >
    </sorax-table-view>
  </mat-tab>
  <mat-tab label="Unsubscribed Lists">
    <div
      [@animate]="{ value: '*', params: { y: '60px', delay: '300ms' } }"
      class="flex justify-between"
    >
      <div class="flex justify-start m-8">
        <sorax-form-field
          [label]="'Filter By'"
          [soraxFormControl]="filterControl"
        >
          <input #soraxInput matInput [(ngModel)]="filterText" />
        </sorax-form-field>
        <button
          mat-raised-button
          color="primary"
          (click)="applyUnsubscribedFilter()"
        >
          Filter List
        </button>
      </div>
      <div class="m-8">
        <form [formGroup]="smsUnsubscribeListForm" (ngSubmit)="submit()">
          <div class="flex">
            <sorax-form-field
              label="Phone number"
              [soraxFormControl]="smsUnsubscribeListForm.get('phoneNumber')"
            >
              <input
                #soraxInput
                matInput
                formControlName="phoneNumber"
                name="phoneNumber"
                placeholder="Add Phone Number"
              />
            </sorax-form-field>
            <button mat-raised-button color="primary" type="submit">
              Add to Unsubscribed List
            </button>
          </div>
        </form>
      </div>
    </div>
    <sorax-table-view
      [serverSidePagination]="true"
      [tableData]="smsUnsubscribedListData"
      [tableColumns]="smsUnsubscribedListsColumn"
      [isFilterable]="false"
      [isPageable]="true"
      [page]="page"
      (pageEvent)="smsUnsubscriptionPageChangeEvent($event)"
      (sortEvent)="smsUnsubscriptionSortData($event)"
      (rowAction)="executeSMSUnsubscriptionRowActions($event)"
      [tableType]="'smsUnsubscription'"
    >
    </sorax-table-view>
  </mat-tab>
  <mat-tab label="History">
    <div class="flex justify-start m-8">
      <sorax-form-field
        [label]="'Filter By'"
        [soraxFormControl]="filterControl"
      >
        <input #soraxInput matInput [(ngModel)]="filterText" />
      </sorax-form-field>
      <button mat-raised-button color="primary" (click)="applyHistoryFilter()">
        Filter List
      </button>
    </div>
    <sorax-table-view
      [serverSidePagination]="true"
      [tableData]="smsHistorytData"
      [tableColumns]="smsHistoryColumn"
      [isFilterable]="false"
      [isPageable]="true"
      [page]="page"
      (pageEvent)="smsmHistoryPageChangeEvent($event)"
      (sortEvent)="smsHistorySortData($event)"
      (rowAction)="executeSMSHistoryRowActions($event)"
    >
    </sorax-table-view>

    <mat-card class="mx-auto custom-sm" *ngIf="smsContent">
      <mat-card-content class="flex flex-col">
        <form [formGroup]="smsHistoryForm">
          <div class="flex justify-between">
            <sorax-form-field
              class="w-3/4 p-2"
              label="Sent to"
              [soraxFormControl]="smsHistoryForm.get('recipients')"
            >
              <input
                #soraxInput
                matInput
                formControlName="recipients"
                name="recipients"
              />
            </sorax-form-field>
            <sorax-form-field
              class="w-1/4 p-2"
              label="Sent Date"
              [soraxFormControl]="smsHistoryForm.get('modifiedTimestamp')"
            >
              <input
                #soraxInput
                matInput
                formControlName="modifiedTimestamp"
                name="modifiedTimestamp"
              />
            </sorax-form-field>
          </div>
          <div class="w-3/4 p-2">
            <sorax-form-field
              label="SMS subject"
              [soraxFormControl]="smsHistoryForm.get('msgSubject')"
            >
              <input
                #soraxInput
                matInput
                formControlName="msgSubject"
                name="msgSubject"
              />
            </sorax-form-field>
          </div>
          <div class="w-3/4 p-2 h-24">
            <sorax-form-field
              label="SMS heading body"
              [soraxFormControl]="smsHistoryForm.get('msgContent')"
            >
              <input
                #soraxInput
                matInput
                formControlName="msgContent"
                name="msgContent"
              />
            </sorax-form-field>
          </div>
        </form>
        <div class="flex justify-end">
          <button mat-raised-button color="primary" (click)="close()">
            Close
          </button>
        </div>
      </mat-card-content>
    </mat-card>
  </mat-tab>
</mat-tab-group>
